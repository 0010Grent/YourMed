DEEPSEEK_API_KEY=填你的key
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1
DEEPSEEK_MODEL=deepseek-chat

# 可选：开启 API Key 鉴权（请求头：X-API-Key: <TRIAGE_API_KEY>）
TRIAGE_API_KEY=

# 输出目录（用于保存 /v1/chat 的 session 轨迹）
OUTPUT_DIR=outputs

# 多轮对话 /v1/chat（默认仅保存 meta，不保存原文）
CHAT_MAX_TURNS=8

# 默认 0：不保存患者/医生原文；只保存 present/length/sha256 + slots/triage/trace
ALLOW_SAVE_SESSION_RAW_TEXT=0

# /v1/chat 槽位抽取策略：llm（默认）或 rules（更稳定、离线测试用）
CHAT_SLOT_EXTRACTOR=llm

# RAG 配置（可选）
RAG_COLLECTION=medical_kb
HF_EMBEDDING_MODEL=intfloat/multilingual-e5-small

# M1：RAGService（统一 embedding + 两阶段检索 + 可选 rerank）
# 默认 provider=bce，优先使用 GPU（auto）
RAG_PROVIDER=bce
RAG_DEVICE=auto
RAG_EMBED_MODEL=maidalun1020/bce-embedding-base_v1
RAG_RERANK_MODEL=maidalun1020/bce-reranker-base_v1
RAG_USE_RERANKER=1
RAG_TOP_N=30
# 向量库持久化目录（建议放云盘/外置盘，不提交到仓库）
# 例如（Windows）：RAG_PERSIST_DIR=D:\\YourCloud\\MedCaht\\kb_store
# 例如（Linux/macOS）：RAG_PERSIST_DIR=/mnt/yourcloud/MedCaht/kb_store
# 不设置则默认使用：app/rag/kb_store
# RAG_PERSIST_DIR=

# Windows 兼容性：OpenMP 冲突 workaround（如无报错可不设）
KMP_DUPLICATE_LIB_OK=TRUE
